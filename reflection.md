# Reflection: Retail Data Warehouse

## 1. Why use a star schema instead of a normalized schema?
A star schema is optimized for analytical queries, making it ideal for data warehouses like the one built in this project. It consists of a central fact table (`fact_sales`), which stores measurable data (e.g., `quantity_sold`, `revenue`), connected to dimension tables (`dim_date`, `dim_product`, `dim_store`) that provide descriptive context (e.g., date, product category, store region). This structure minimizes the number of joins required for queries, enabling fast performance for aggregations like `SUM(revenue)` by category, as seen in the project’s Query 1. For example, in Query 1, we joined `fact_sales` with `dim_product` to compute total revenue by category, requiring only one join due to the star schema’s simplicity.

In contrast, a normalized schema, common in transactional databases (e.g., an online retail system), spreads data across many tables to reduce redundancy and ensure data integrity. This leads to complex, multi-table joins that slow down analytical queries. For instance, analyzing sales by region in a normalized schema might require joining tables for orders, customers, stores, and regions, increasing query complexity. Retailers like Amazon or Walmart use star schemas in their data warehouses to quickly analyze millions of sales records across dimensions like time, product, and location, similar to our project’s design. The star schema’s simplicity, as visualized in `docs/schema_diagram.png`, made it easier to write and execute queries for this lab.

## 2. What are the benefits of separating facts from dimensions?
Separating facts and dimensions in a star schema enhances query performance, simplifies design, and improves usability. Facts, stored in the `fact_sales` table, are numerical metrics (e.g., `quantity_sold`, `revenue`) that support calculations like sums or averages. Dimensions, stored in tables like `dim_date`, `dim_product`, and `dim_store`, provide descriptive attributes (e.g., `full_date`, `category`, `region`) that contextualize the facts. This separation allows efficient querying; for example, Query 3 joins `fact_sales` with `dim_store` to compute revenue by region, using a single join to filter and group data.

Another benefit is reusability. Dimension tables can support multiple analyses. For instance, `dim_date` enables time-based queries like monthly sales trends (Query 2) but could also be used for inventory or customer analyses. This modularity reduces redundancy and maintenance. Additionally, dimensions enable hierarchical analysis (e.g., drilling down from year to quarter to month in `dim_date`), which is critical for business intelligence tools like Tableau. In real-world scenarios, companies like Target use fact-dimension separation to analyze sales trends across stores and products, mirroring our project’s structure. The clear separation in `docs/schema_diagram.png` helped visualize these relationships, making the warehouse intuitive to query.

## 3. What types of business decisions could this warehouse support?
The data warehouse supports strategic retail decisions by providing insights into sales performance across multiple dimensions. Based on the project’s queries, it enables:
- **Inventory Management**: Query 4 identifies top products by quantity sold (e.g., high-demand items like Jeans). Retailers can use this to optimize stock levels, ensuring popular products are available while reducing overstock of low-performing items. For example, a retailer like Zara could prioritize fast-moving fashion items.
- **Marketing Allocation**: Query 3 shows revenue by region (e.g., East generating the highest revenue). This informs targeted marketing campaigns, such as increasing ad spend in high-performing regions or addressing underperforming ones. A company like Best Buy might allocate more promotions to high-revenue areas.
- **Seasonal Planning**: Query 2 reveals monthly sales trends, highlighting peak sales periods (e.g., holiday seasons). Retailers can plan promotions, staffing, or inventory for these periods. For instance, Macy’s could use this to prepare for Black Friday sales surges.

These decisions drive profitability and efficiency, as seen in `docs/workflow_diagram.png`, which illustrates how data flows from CSVs to actionable insights. In practice, retailers like Costco rely on similar data warehouses to make data-driven decisions, ensuring competitive advantage.

## Visuals
- **Schema Diagram**: `docs/schema_diagram.png` visualizes the star schema, showing `fact_sales` connected to `dim_date`, `dim_product`, and `dim_store` via foreign keys (`date_id`, `product_id`, `store_id`).
- **Workflow Diagram**: `docs/workflow_diagram.png` depicts the data loading process using `LOAD DATA LOCAL INFILE`, from CSVs to MySQL tables.